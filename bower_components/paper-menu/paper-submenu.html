<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-behaviors/iron-control-state.html"><link rel="import" href="../iron-collapse/iron-collapse.html"><link rel="import" href="paper-menu-shared-styles.html"></head><body><dom-module id="paper-submenu"><template><style include="paper-menu-shared-styles"></style><div class="selectable-content" on-tap="_onTap"><content id="trigger" select=".menu-trigger"></content></div><iron-collapse id="collapse" opened="{{opened}}"><content id="content" select=".menu-content"></content></iron-collapse></template><script>(function(){Polymer({is:'paper-submenu',properties:{opened:{type:Boolean,value:!1,notify:!0,observer:'_openedChanged'}},behaviors:[Polymer.IronControlState],listeners:{focus:'_onFocus'},get __parent(){return Polymer.dom(this).parentNode},get __trigger(){return Polymer.dom(this.$.trigger).getDistributedNodes()[0]},get __content(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},attached:function(){this.listen(this.__parent,'iron-activate','_onParentIronActivate')},detached:function(){this.unlisten(this.__parent,'iron-activate','_onParentIronActivate')},open:function(){this.disabled||(this.opened=!0)},close:function(){this.opened=!1},toggle:function(){this.opened?this.close():this.open()},_onTap:function(){this.disabled||this.toggle()},_openedChanged:function(a,b){a?(this.__trigger&&this.__trigger.classList.add('iron-selected'),this.__content&&this.__content.focus(),this.fire('paper-submenu-open')):null!=b&&(this.__trigger&&this.__trigger.classList.remove('iron-selected'),this.fire('paper-submenu-close'))},_onParentIronActivate:function(a){var b=this.__parent;Polymer.dom(a).localTarget!==b||a.detail.item===this||b.multi||this.close()},_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments),a&&this.opened&&this.close()},_onFocus:function(){this.__trigger&&this.__trigger.focus()}})})();</script></dom-module></body></html>